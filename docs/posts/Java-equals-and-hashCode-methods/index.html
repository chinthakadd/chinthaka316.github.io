<!DOCTYPE html>













<html lang="en"
  
    data-mode="light"
  
>

  <!--
  The Head
-->

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <!-- Allow having a localized datetime different from the appearance language -->
  

  

    

    

  

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<meta name="generator" content="Jekyll v4.2.1" />
<meta property="og:title" content="Refresh Memory While Having a Deeper Look at Java equals() and hashCode() Methods" />
<meta property="og:locale" content="en" />
<meta name="description" content="I was writing a small piece of code for a Proof of Concept, and required to write an equals method and was wondering if I had given thought to it in my career of 8 years. Yes I know it, but do I really know it enough. This was the revision exercise I did, which I thought of sharing as an simplistic article with everyone." />
<meta property="og:description" content="I was writing a small piece of code for a Proof of Concept, and required to write an equals method and was wondering if I had given thought to it in my career of 8 years. Yes I know it, but do I really know it enough. This was the revision exercise I did, which I thought of sharing as an simplistic article with everyone." />
<link rel="canonical" href="http://localhost:4000/posts/Java-equals-and-hashCode-methods/" />
<meta property="og:url" content="http://localhost:4000/posts/Java-equals-and-hashCode-methods/" />
<meta property="og:site_name" content="Chinthaka Dharmasiri" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-12-19T00:00:00+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Refresh Memory While Having a Deeper Look at Java equals() and hashCode() Methods" />
<meta name="twitter:site" content="@chinthaka316" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2020-12-19T00:00:00+00:00","datePublished":"2020-12-19T00:00:00+00:00","description":"I was writing a small piece of code for a Proof of Concept, and required to write an equals method and was wondering if I had given thought to it in my career of 8 years. Yes I know it, but do I really know it enough. This was the revision exercise I did, which I thought of sharing as an simplistic article with everyone.","headline":"Refresh Memory While Having a Deeper Look at Java equals() and hashCode() Methods","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/posts/Java-equals-and-hashCode-methods/"},"url":"http://localhost:4000/posts/Java-equals-and-hashCode-methods/"}</script>
<!-- End Jekyll SEO tag -->


  <title>Refresh Memory While Having a Deeper Look at Java equals() and hashCode() Methods | Chinthaka Dharmasiri
  </title>

  <!--
  The Favicons for Web, Android, Microsoft, and iOS (iPhone and iPad) Apps
  Generated by: https://realfavicongenerator.net/
-->



<link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png">
<link rel="manifest" href="/assets/img/favicons/site.webmanifest">
<link rel="shortcut icon" href="/assets/img/favicons/favicon.ico">
<meta name="apple-mobile-web-app-title" content="Chinthaka Dharmasiri">
<meta name="application-name" content="Chinthaka Dharmasiri">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml">
<meta name="theme-color" content="#ffffff">


  

    
      <link rel="preconnect" href="https://fonts.googleapis.com" >
      <link rel="dns-prefetch" href="https://fonts.googleapis.com" >
    
      <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
      <link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin>
    
      <link rel="preconnect" href="https://fonts.googleapis.com" >
      <link rel="dns-prefetch" href="https://fonts.googleapis.com" >
    
      <link rel="preconnect" href="https://cdn.jsdelivr.net" >
      <link rel="dns-prefetch" href="https://cdn.jsdelivr.net" >
    

    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap">

  

  <!-- GA -->
  

  <!-- Bootstrap -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css">

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css">

  <link rel="stylesheet" href="/assets/css/style.css">

  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css">
  

  
    <!-- Manific Popup -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css">
  

  <!-- JavaScript -->

  <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script>

</head>


  

  <body data-spy="scroll" data-target="#toc" data-topbar-visible="true">

    <!--
  The Side Bar
-->

<div id="sidebar" class="d-flex flex-column align-items-end">
  <div class="profile-wrapper text-center">
    <div id="avatar">
      <a href="/" alt="avatar" class="mx-auto">
        
          
          <img src="
            
              https://avatars1.githubusercontent.com/u/1442426?s=400&u=af06f3543e4f3028b93047335dbc6a666a3b07f1&v=4
            
          " alt="avatar" onerror="this.style.display='none'">
        
      </a>
    </div>

    <div class="site-title mt-3">
      <a href="/">Chinthaka Dharmasiri</a>
    </div>
    <div class="site-subtitle font-italic">Technology Enthusiast from Sri Lanka, currently living in Pittsburgh</div>

  </div><!-- .profile-wrapper -->

  <ul class="w-100">

    <!-- home -->
    <li class="nav-item">
      <a href="/" class="nav-link">
        <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i>
        <span>HOME</span>
      </a>
    </li>
    <!-- the real tabs -->
    
    <li class="nav-item">
      <a href="/archives/" class="nav-link">
        <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i>
        

        <span>ARCHIVES</span>
      </a>
    </li> <!-- .nav-item -->
    

  </ul> <!-- ul.nav.flex-column -->

  <div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center">

    

    
      

      
      <a href="https://github.com/chinthakadd" aria-label="github"
        target="_blank" rel="noopener">
        <i class="fab fa-github"></i>
      </a>
      

    
      

      
      <a href="https://twitter.com/chinthaka316" aria-label="twitter"
        target="_blank" rel="noopener">
        <i class="fab fa-twitter"></i>
      </a>
      

    
      

      
      <a href="
          javascript:location.href = 'mailto:' + ['chinthakadd','gmail.com'].join('@')" aria-label="email"
        >
        <i class="fas fa-envelope"></i>
      </a>
      

    
      

      
      <a href="/feed.xml" aria-label="rss"
        >
        <i class="fas fa-rss"></i>
      </a>
      

    

  </div> <!-- .sidebar-bottom -->

</div><!-- #sidebar -->


    <!--
  The Top Bar
-->

<div id="topbar-wrapper" class="row justify-content-center">
  <div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between">
    <span id="breadcrumb">

    

    

      

        
          <span>
            <a href="/">
              Home
            </a>
          </span>

        

      

        

      

        

          
            <span>Refresh Memory While Having a Deeper Look at Java equals() and hashCode() Methods</span>
          

        

      

    

    </span><!-- endof #breadcrumb -->

    <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i>

    <div id="topbar-title">
      Post
    </div>

    <i id="search-trigger" class="fas fa-search fa-fw"></i>
    <span id="search-wrapper" class="align-items-center">
      <i class="fas fa-search fa-fw"></i>
      <input class="form-control" id="search-input" type="search"
        aria-label="search" autocomplete="off" placeholder="Search...">
    </span>
    <span id="search-cancel" >Cancel</span>
  </div>

</div>


    <div id="main-wrapper">
      <div id="main">

        









<div class="row">

  <!-- core -->
  <div id="core-wrapper" class="col-12 col-lg-11 col-xl-8">
    <div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4">

    

    
      
      
        <!--
  Refactor the HTML structure.
-->



<!--
  In order to allow a wide table to scroll horizontally,
  we suround the markdown table with `<div class="table-wrapper">` and `</div>`
-->



<!--
  Fixed kramdown code highlight rendering:
  https://github.com/penibelst/jekyll-compress-html/issues/101
  https://github.com/penibelst/jekyll-compress-html/issues/71#issuecomment-188144901
-->



<!-- Add attribute 'hide-bullet' to the checkbox list -->



<!-- images -->





<!-- Add header for code snippets -->



<!-- Create heading anchors -->





  
  

  
    
    

    
      
        
        
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    

    

  

  
  

  
    
    

    
      
        
        
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    

    

  

  
  

  

  
  

  




<!-- Wrap prompt element of blockquote with the <div> tag -->







<!-- return -->







<h1 data-toc-skip>Refresh Memory While Having a Deeper Look at Java equals() and hashCode() Methods</h1>

<div class="post-meta text-muted">

  <!-- author -->
  <div>
    
    

    

    By
    <em>
      
        <a href="https://twitter.com/chinthaka316">Chinthaka Dharmasiri</a>
      
    </em>
  </div>

  <div class="d-flex">
    <div>
      <!-- published date -->
      <span>
        Posted
        <!--
  Date format snippet
  See: ${JS_ROOT}/utils/timeago.js
-->

<em class="timeago"
    data-ts="1608336000"
    
      data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll"
    
    >
  2020-12-19
</em>

      </span>

      <!-- lastmod date -->
      

      <!-- read time -->
      <!--
  Calculate the post's reading time, and display the word count in tooltip
 -->



<!-- words per minute  -->










<!-- return element -->
<span class="readtime" data-toggle="tooltip" data-placement="bottom"
  title="2073 words">
  <em>11 min</em> read</span>


      <!-- page views -->
      
    </div>

  </div> <!-- .d-flex -->

</div> <!-- .post-meta -->

<div class="post-content">
  <p>I was writing a small piece of code for a Proof of Concept, and required to write an equals method and was wondering if I had given thought to it in my career of 8 years. Yes I know it, but do I really know it enough. This was the revision exercise I did, which I thought of sharing as an simplistic article with everyone.</p>

<p>These are two very important methods that all Java developers are well aware of. And it is such a basic topic, but may be due to the simplicity of the concept, and also due to the fact that IDEs that we use today generate them very nicely, we tend to forget or overlook it. So I thought of documenting some details around it.</p>

<p>One of the best chapters I have read about these two methods and few others were in <code class="language-plaintext highlighter-rouge">Chapter 03</code> of the book <code class="language-plaintext highlighter-rouge">Effective Java</code> by <code class="language-plaintext highlighter-rouge">Joshua Bloch</code>.</p>

<p>In this article, I capture some of the important aspects of these two methods that I have learned.</p>

<h2 id="equals---covering-basics"><span class="mr-2">Equals - Covering Basics</span><a href="#equals---covering-basics" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2>

<p>Lets start with Equality of Objects in Java. We know that equality of objects is evaluated using the <code class="language-plaintext highlighter-rouge">equals</code> method. By default, in Java, we say that two objects are equal, if the Object References (let’s say obj1 and obj2) are referring to the same object (in memory). Now we know Java <code class="language-plaintext highlighter-rouge">Object</code> class provides an implementation to this.</p>

<div class="language-java highlighter-rouge"><div class="code-header">
        <span data-label-text="Java"><i class="fas fa-code small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">equals</span><span class="o">(</span><span class="nc">Object</span> <span class="n">obj</span><span class="o">)</span> <span class="o">{</span>  
    <span class="k">return</span> <span class="o">(</span><span class="k">this</span> <span class="o">==</span> <span class="n">obj</span><span class="o">);</span>  
<span class="o">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p>Pretty straight forward. But this does not suffice our needs in most cases when we exercise Object Oriented Programming.  Given that equality of instances of classes must be defined by their attributes and not based on the memory locations where they are stored, we must override this method.</p>

<p>However, there are few rules that we need to be aware in doing this.</p>

<p>Just the basics first. Know and understand what equality means. It is important that we ensure that all the below properties of equality are maintained by our implementation.</p>

<ul>
  <li>
    <p>Reflexive - For any object reference <code class="language-plaintext highlighter-rouge">obj</code>, obj.equals(obj) must be <code class="language-plaintext highlighter-rouge">true</code></p>
  </li>
  <li>
    <p>Symmetric - For any two equal objects, <code class="language-plaintext highlighter-rouge">obj1</code> and <code class="language-plaintext highlighter-rouge">obj2</code>, obj1.equals(obj2) and obj2.equals(obj1) both must return <code class="language-plaintext highlighter-rouge">true</code>.</p>
  </li>
  <li>
    <p>Transitive - For <code class="language-plaintext highlighter-rouge">obj1</code>  <code class="language-plaintext highlighter-rouge">obj2</code> and <code class="language-plaintext highlighter-rouge">obj3</code> if obj1.equals(obj2) is true, and obj2.equals(obj3) is true, then obj1.equal(obj3) must be <code class="language-plaintext highlighter-rouge">true</code>.</p>
  </li>
  <li>
    <p>Consistent - Given that attributes that are part of the equality logic remains unchanged, all subsequent equals() invocation of the same equal objects must continue to return <code class="language-plaintext highlighter-rouge">true</code>.</p>
  </li>
</ul>

<h2 id="equals---ways-to-implement"><span class="mr-2">Equals - Ways to Implement</span><a href="#equals---ways-to-implement" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2>

<h3 id="codified-way---every-java-developer-must-know"><span class="mr-2">Codified Way - Every Java Developer Must Know</span><a href="#codified-way---every-java-developer-must-know" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3>

<p>The following is a hand coded implementation for <code class="language-plaintext highlighter-rouge">equals</code> method on <code class="language-plaintext highlighter-rouge">Passport</code> class.</p>

<div class="language-java highlighter-rouge"><div class="code-header">
        <span data-label-text="Java"><i class="fas fa-code small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
</pre></td><td class="rouge-code"><pre>
<span class="cm">/**  
 * Assume that passports are equal only if their number and name matches. 
 */</span>
 <span class="kd">public</span> <span class="kd">class</span> <span class="nc">Passport</span> <span class="o">{</span>  
  
 <span class="kd">private</span> <span class="nc">String</span> <span class="n">number</span><span class="o">;</span>  
 <span class="kd">private</span> <span class="nc">String</span> <span class="n">name</span><span class="o">;</span>  
 <span class="kd">private</span> <span class="nc">String</span> <span class="n">country</span><span class="o">;</span>  
  
 <span class="nd">@Override</span>  
 <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">equals</span><span class="o">(</span><span class="nc">Object</span> <span class="n">o</span><span class="o">)</span> <span class="o">{</span>  
        <span class="c1">// Shallow Check  </span>
 		<span class="k">if</span> <span class="o">(</span><span class="k">this</span> <span class="o">==</span> <span class="n">o</span><span class="o">)</span> <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>  
 		<span class="c1">// if not from same class, not equal.  </span>
 		<span class="k">if</span> <span class="o">(</span><span class="n">o</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">||</span> <span class="o">!</span><span class="n">o</span><span class="o">.</span><span class="na">getClass</span><span class="o">().</span><span class="na">equals</span><span class="o">(</span><span class="nc">Passport</span><span class="o">.</span><span class="na">class</span><span class="o">))</span> <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>  
 		<span class="nc">Passport</span> <span class="n">passport</span> <span class="o">=</span> <span class="o">(</span><span class="nc">Passport</span><span class="o">)</span> <span class="n">o</span><span class="o">;</span>  
 		<span class="c1">// NOTE: Null safe equality check using Objects.equal().  </span>
 		<span class="c1">// If any of the value is null, it will return false,</span>
		<span class="c1">// if both are null, it will return true. </span>
		<span class="k">return</span> <span class="nc">Objects</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">number</span><span class="o">,</span> <span class="n">passport</span><span class="o">.</span><span class="na">number</span><span class="o">)</span> <span class="o">&amp;&amp;</span> <span class="nc">Objects</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">name</span><span class="o">,</span> <span class="n">passport</span><span class="o">.</span><span class="na">name</span><span class="o">);</span>  
 <span class="o">}</span>  
 
 <span class="o">....</span>
<span class="o">}</span>

</pre></td></tr></tbody></table></code></div></div>

<p>The same can be generated by IDEs such as Intelij, however, probably in an interview or a situation where you don’t have that luxury, it is important that you are on top of this.</p>

<ul>
  <li>Using an Utility Library</li>
</ul>

<p>Also, common utility libraries such as Apache <code class="language-plaintext highlighter-rouge">Commons</code> provides builders to implement it easily.</p>

<p>ex: Using Apache Commons (which uses reflections to perform equal check using attributes of the object. This could be the default implementation of a base class (<code class="language-plaintext highlighter-rouge">BaseDto</code>, <code class="language-plaintext highlighter-rouge">BaseModel</code> or <code class="language-plaintext highlighter-rouge">BaseEntity</code>))</p>

<div class="language-java highlighter-rouge"><div class="code-header">
        <span data-label-text="Java"><i class="fas fa-code small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre> <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">equals</span><span class="o">(</span><span class="nc">Object</span> <span class="n">obj</span><span class="o">)</span> <span class="o">{</span>
   <span class="k">return</span> <span class="nc">EqualsBuilder</span><span class="o">.</span><span class="na">reflectionEquals</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">obj</span><span class="o">);</span>
 <span class="o">}</span>
</pre></td></tr></tbody></table></code></div></div>

<ul>
  <li>Using <code class="language-plaintext highlighter-rouge">Lombok</code> to generate the code</li>
</ul>

<p>Now, if you are using Java, but hate boilerplate, probably you are already a fan of <code class="language-plaintext highlighter-rouge">lombok</code>. It provides a nice annotations called <code class="language-plaintext highlighter-rouge">@EqualsAndHashCode</code> which can use the generate both <code class="language-plaintext highlighter-rouge">equals</code> and <code class="language-plaintext highlighter-rouge">hashCode</code> methods automatically.</p>

<ul>
  <li>If you use <code class="language-plaintext highlighter-rouge">kotlin</code>, use <code class="language-plaintext highlighter-rouge">data</code> classes that generates <code class="language-plaintext highlighter-rouge">equals</code> and <code class="language-plaintext highlighter-rouge">hashCode</code></li>
</ul>

<p>Data classes are one of those syntax sugar conveniences that makes us fall in love with the <code class="language-plaintext highlighter-rouge">Kotlin</code>. What Lombok does with Java, Data classes does it automatically in Kotlin. It generates equals / hashCode() pair based on the attributes defined in the <code class="language-plaintext highlighter-rouge">primary</code> constructor.</p>

<p>ex:</p>

<div class="language-kotlin highlighter-rouge"><div class="code-header">
        <span data-label-text="Kotlin"><i class="fas fa-code small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="kd">data class</span> <span class="nc">User</span><span class="p">(</span><span class="kd">val</span> <span class="py">name</span><span class="p">:</span> <span class="nc">String</span><span class="p">,</span> <span class="kd">val</span> <span class="py">age</span><span class="p">:</span> <span class="nc">Int</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></div></div>

<p>equals() and hashCode() for the above will be generated based on <code class="language-plaintext highlighter-rouge">name</code> and <code class="language-plaintext highlighter-rouge">age</code> attributes.</p>

<p>Now lets talk about the contract between <code class="language-plaintext highlighter-rouge">equals()</code> and <code class="language-plaintext highlighter-rouge">hashCode()</code>. The moment we change the logic of the equality operation, we need to ensure that hashCode() method contract still stands.</p>

<h2 id="hashcode---covering-basics"><span class="mr-2">HashCode - Covering Basics</span><a href="#hashcode---covering-basics" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2>

<p>Why is hashCode() method so important?</p>

<p>As we all know, hashCode() is used in Java’s Collections that uses <code class="language-plaintext highlighter-rouge">Hashing</code> mechanism as a way to minimize the performance cost of operations such as add, get, remove and etc. Examples are HashTable, HashMap and HashSet.</p>

<p>What is the contract between hashCode() and equals() ?</p>

<p>If two objects are equal, their hashCode() value must be the same. This the rule of thumb.
However, if hashCode() values of two objects are the same, it does not mean that those two objects must be equal. It could be, but does not have to be. It all depends on how the developers have implemented the hashCode() method.</p>

<p>Now the Rule of Thumb prescribed above is so important. Because if you don’t abide to this rule, it could lead to inconsistent results specially when you use HashSet like implementations.</p>

<p>Example below:</p>

<div class="language-java highlighter-rouge"><div class="code-header">
        <span data-label-text="Java"><i class="fas fa-code small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
</pre></td><td class="rouge-code"><pre><span class="cm">/**  
 * Assume that passports are equal only if their number and name matches. 
 */</span>
 <span class="kd">public</span> <span class="kd">class</span> <span class="nc">Passport</span> <span class="o">{</span>  
  
    <span class="kd">private</span> <span class="nc">String</span> <span class="n">number</span><span class="o">;</span>  
 	<span class="kd">private</span> <span class="nc">String</span> <span class="n">name</span><span class="o">;</span>  
 	<span class="kd">private</span> <span class="nc">String</span> <span class="n">country</span><span class="o">;</span>  
  
 	<span class="kd">public</span> <span class="nf">Passport</span><span class="o">(</span><span class="nc">String</span> <span class="n">number</span><span class="o">,</span> <span class="nc">String</span> <span class="n">name</span><span class="o">)</span> <span class="o">{</span>  
        <span class="k">this</span><span class="o">.</span><span class="na">number</span> <span class="o">=</span> <span class="n">number</span><span class="o">;</span>  
 		<span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">;</span>  
 	<span class="o">}</span>  
  
    <span class="nd">@Override</span>  
 	<span class="kd">public</span> <span class="kd">final</span> <span class="kt">boolean</span> <span class="nf">equals</span><span class="o">(</span><span class="nc">Object</span> <span class="n">o</span><span class="o">)</span> <span class="o">{</span>  
        <span class="c1">// Shallow Check  </span>
 		<span class="k">if</span> <span class="o">(</span><span class="k">this</span> <span class="o">==</span> <span class="n">o</span><span class="o">)</span> <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>  
 		<span class="c1">// if not from same class, not equal.  </span>
 		<span class="k">if</span> <span class="o">(</span><span class="n">o</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">||</span> <span class="o">!</span><span class="n">o</span><span class="o">.</span><span class="na">getClass</span><span class="o">().</span><span class="na">equals</span><span class="o">(</span><span class="nc">Passport</span><span class="o">.</span><span class="na">class</span><span class="o">))</span> <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>  
 		<span class="nc">Passport</span> <span class="n">passport</span> <span class="o">=</span> <span class="o">(</span><span class="nc">Passport</span><span class="o">)</span> <span class="n">o</span><span class="o">;</span>  
 		<span class="c1">// NOTE: Null safe equality check using Objects.equal().  </span>
 		<span class="c1">// If any of the value is null, it will return false, // if both are null, it will return true. return Objects.equals(number, passport.number) &amp;&amp; Objects.equals(name, passport.name);  </span>
 <span class="o">}</span>  
   
 	<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">demoImportanceOfHashMap</span><span class="o">(){</span>  
        <span class="nc">Passport</span> <span class="n">p1</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Passport</span><span class="o">(</span><span class="s">"123"</span><span class="o">,</span> <span class="s">"Chinthaka"</span><span class="o">);</span>  
 		<span class="nc">Passport</span> <span class="n">p2</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Passport</span><span class="o">(</span><span class="s">"123"</span><span class="o">,</span> <span class="s">"Chinthaka"</span><span class="o">);</span>  
 		<span class="c1">// Prove that they are equal  </span>
 		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">p1</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">p2</span><span class="o">));</span> <span class="c1">// returns true.  </span>
  
 		<span class="c1">// Lets add them to a HashSet Set&lt;Passport&gt; set = new HashSet&lt;&gt;();  </span>
 		<span class="n">set</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">p1</span><span class="o">);</span>  
 		<span class="n">set</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">p2</span><span class="o">);</span>  
  
 		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"P1 HashCode:"</span> <span class="o">+</span> <span class="n">p1</span><span class="o">.</span><span class="na">hashCode</span><span class="o">());</span>  
 		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"P2 HashCode:"</span> <span class="o">+</span> <span class="n">p2</span><span class="o">.</span><span class="na">hashCode</span><span class="o">());</span>  
  
 		<span class="c1">// Assumption is the size should be 1  </span>
 		<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Set Size: "</span> <span class="o">+</span> <span class="n">set</span><span class="o">.</span><span class="na">size</span><span class="o">());</span>  
 	<span class="o">}</span>  
  
 	<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>  
        <span class="n">demoImportanceOfHashMap</span><span class="o">();</span>  
 	<span class="o">}</span>  
<span class="o">}</span>

</pre></td></tr></tbody></table></code></div></div>

<p>The output was:</p>

<div class="language-plaintext highlighter-rouge"><div class="code-header">
        <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre></td><td class="rouge-code"><pre>true
P1 HashCode:356573597
P2 HashCode:1735600054
Set Size: 2
</pre></td></tr></tbody></table></code></div></div>

<p>As you see, even if two objects are equal, but their hash codes are not the same, they will not be considered equal in an <code class="language-plaintext highlighter-rouge">HashSet</code> (because <code class="language-plaintext highlighter-rouge">hashCode()</code> is invoked first and based on that only, an <code class="language-plaintext highlighter-rouge">equals()</code> operation will be executed IF there are multiple elements in a particular hash bucket) and therefore you would see duplicates. This is catastrophic.</p>

<p>Another code smell of a hashCode() is when there are too much hash collisions. As written in <code class="language-plaintext highlighter-rouge">HashMap</code> Java Documentation, having too many different Objects (unequal) returning the same hash code is a sure way for reducing performance as it increases the number of elements of a particular Hash Bucket where the object is stored.</p>

<p>Refer the below snippet from Java <code class="language-plaintext highlighter-rouge">HashMap.getNode(int hash, Object key)</code>  implementation.</p>

<div class="language-java highlighter-rouge"><div class="code-header">
        <span data-label-text="Java"><i class="fas fa-code small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre>
<span class="k">do</span> <span class="o">{</span>  
    <span class="k">if</span> <span class="o">(</span><span class="n">e</span><span class="o">.</span><span class="na">hash</span> <span class="o">==</span> <span class="n">hash</span> <span class="o">&amp;&amp;</span>  
        <span class="o">((</span><span class="n">k</span> <span class="o">=</span> <span class="n">e</span><span class="o">.</span><span class="na">key</span><span class="o">)</span> <span class="o">==</span> <span class="n">key</span> <span class="o">||</span> <span class="o">(</span><span class="n">key</span> <span class="o">!=</span> <span class="kc">null</span> <span class="o">&amp;&amp;</span> <span class="n">key</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">k</span><span class="o">))))</span>  
        <span class="k">return</span> <span class="n">e</span><span class="o">;</span>  
<span class="o">}</span> <span class="k">while</span> <span class="o">((</span><span class="n">e</span> <span class="o">=</span> <span class="n">e</span><span class="o">.</span><span class="na">next</span><span class="o">)</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">);</span>

</pre></td></tr></tbody></table></code></div></div>

<p>Java <code class="language-plaintext highlighter-rouge">Object</code> class provides a default implementation for the <code class="language-plaintext highlighter-rouge">hashCode()</code> method. How does Java implement hashCode?</p>

<div class="language-java highlighter-rouge"><div class="code-header">
        <span data-label-text="Java"><i class="fas fa-code small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="kd">public</span> <span class="kd">native</span> <span class="kt">int</span> <span class="nf">hashCode</span><span class="o">();</span>
</pre></td></tr></tbody></table></code></div></div>

<p>The <code class="language-plaintext highlighter-rouge">native</code> keyword here indicates that this is not a Java implementation, it is written using low level language (C) and then injected to Java using JNI (Java Native Interface) technique. So we will not be able to see how the implementation looks like here.</p>

<p>The default implementation of the hashCode() is based on the memory address of the Object.  Reading through the native code (provided in the reference below), it further proves that it is uses different techniques such as MD5, CRC32, DES/AES and XOR Shifting to generate the hash code value based on the memory address. Knowing what really goes beneath our JVM, though it is tough to fully perceive, is certainly interesting. Refer to the links I have provided below.</p>

<p>So how do we override and implement the hashCode() properly for a class which already has a custom equals() implementation.</p>

<h3 id="codified-way---every-java-developer-must-know-1"><span class="mr-2">Codified Way - Every Java Developer Must Know</span><a href="#codified-way---every-java-developer-must-know-1" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3>

<p>This is based on the guidance provided by <code class="language-plaintext highlighter-rouge">Joshua Bloch</code> in <code class="language-plaintext highlighter-rouge">Chapter 03</code> of <code class="language-plaintext highlighter-rouge">Effective Java</code> book.</p>

<p>For the hash code to be distinctive as possible across different objects making it an effective hashCode() implementation, the following steps needs to be followed.</p>

<ul>
  <li>Store a non-zero value as the result. (Any random number)</li>
  <li>Then for each field that is considered in the equals() implementation, calculate their hashcode and them to the multiplication of current result by 31.</li>
</ul>

<p>Refer an implementation of it below for the <code class="language-plaintext highlighter-rouge">Passport</code> class.</p>

<div class="language-java highlighter-rouge"><div class="code-header">
        <span data-label-text="Java"><i class="fas fa-code small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre></td><td class="rouge-code"><pre>
<span class="cm">/**  
 * 
 * Instead of generating the hash code on based on the Object's Memory Reference (JNI), 
 * generate it based on the attributes that are involved in the equality check. 
 * 
 * @return 
 */</span>  
<span class="nd">@Override</span> 
<span class="kd">public</span> <span class="kt">int</span> <span class="nf">hashCode</span><span class="o">()</span> <span class="o">{</span>  
    <span class="kt">int</span> <span class="n">result</span> <span class="o">=</span> <span class="mi">17</span><span class="o">;</span>  
	<span class="n">result</span> <span class="o">=</span> <span class="mi">31</span> <span class="o">*</span> <span class="n">result</span> <span class="o">+</span> <span class="n">number</span> <span class="o">==</span> <span class="kc">null</span><span class="o">?</span> <span class="mi">0</span><span class="o">:</span> <span class="n">number</span><span class="o">.</span><span class="na">hashCode</span><span class="o">();</span>  
	<span class="n">result</span> <span class="o">=</span> <span class="mi">31</span> <span class="o">*</span> <span class="n">result</span> <span class="o">+</span> <span class="n">name</span> <span class="o">==</span> <span class="kc">null</span><span class="o">?</span> <span class="mi">0</span><span class="o">:</span> <span class="n">name</span><span class="o">.</span><span class="na">hashCode</span><span class="o">();</span>
	<span class="k">return</span> <span class="n">result</span><span class="o">;</span>  
<span class="o">}</span>

</pre></td></tr></tbody></table></code></div></div>

<p>why a random number at the start? Zero cannot be used as it would lead to collisions. Specially when the hash code of the fields that are participating in this would also return 0 in their hash code calculation. For Example, boolean false value would generally have 0 as the hash code. Also if a particular field is null, typically 0 is returned (as depicted in the code). Having a non-zero number as the initial seed reduces the potential conflicts due to that reason.</p>

<p>NOTE: However <code class="language-plaintext highlighter-rouge">Boolean</code> Java class does not return 0 (false) or 1 (true) for hashCode. Instead arbitrary numbers of <code class="language-plaintext highlighter-rouge">1231</code> and <code class="language-plaintext highlighter-rouge">1237</code> are used.</p>

<p>Why multiply by number 31?</p>

<p>The reason is that it makes the hashCode() calculation depend on the order of the fields. Great example from <code class="language-plaintext highlighter-rouge">Effective Java</code> book that I like to quote here is:</p>

<p>“For example, if the multiplication were omitted from a <code class="language-plaintext highlighter-rouge">String</code> hash function, all anagrams would have identical hash codes.”</p>

<p>I wondered why number 31 and the good reason that I found from that chapter is, multiplication by 31 can be replaced by a Shift and a Subtraction (<code class="language-plaintext highlighter-rouge">31 * i == (i &lt;&lt; 5) - i</code>) and modern VMs seems to do this optimization for us.</p>

<h3 id="using-objectshashobject-values"><span class="mr-2">Using <code class="language-plaintext highlighter-rouge"><span class="mr-2">Objects.hash(Object... values)</code></span><a href="#using-objectshashobject-values" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3>
<p>This is an utility method provided in Java <code class="language-plaintext highlighter-rouge">Objects</code> library which takes cares of generating a hashCode following the above mentioned techniques applied with all the participating fields.</p>

<p>Also, as mentioned above, <code class="language-plaintext highlighter-rouge">Lombok</code> for Java would auto-generate this for you with <code class="language-plaintext highlighter-rouge">EqualsAndHashCode</code> annotation. Similarly in Kotlin, Data Classes automatically generate this for you.</p>

<p>As Java programmers, we no longer may really pay too much attention this. But the importance of equals() and hashCode() method combination remains the same, specially when you are building frameworks and components that other teams will rely on in the future.</p>

<h2 id="references"><span class="mr-2">References</span><a href="#references" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2>

<ul>
  <li>
    <p>Apache Commons EqualsBuilder - https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/builder/EqualsBuilder.html</p>
  </li>
  <li>
    <p>Lombok - https://projectlombok.org/features/EqualsAndHashCode</p>
  </li>
  <li>
    <p>Kotlin Data Classes - https://kotlinlang.org/docs/data-classes.html</p>
  </li>
  <li>Good Discussion on Java’s HashCode implementation
    <ul>
      <li>https://stackoverflow.com/questions/13602501/whats-the-implementation-of-hashcode-in-java-object</li>
    </ul>
  </li>
  <li>
    <p>Found source code for Java Native Hash Code Implementation here - https://stackoverflow.com/questions/10578764/why-are-hashcode-and-getclass-native-methods</p>
  </li>
  <li>C Code for Java’s HashCode Implementation
    <ul>
      <li>http://hg.openjdk.java.net/jdk7/jdk7/hotspot/file/tip/src/share/vm/prims/jvm.cpp (JVM_ENTRY(jint, JVM_IHashCode…), line 504)</li>
      <li>http://hg.openjdk.java.net/jdk7/jdk7/hotspot/file/tip/src/share/vm/runtime/synchronizer.cpp (FastHashCode, Line 576 and get_next_hash, line 530)</li>
    </ul>
  </li>
</ul>

</div>

<div class="post-tail-wrapper text-muted">

  <!-- categories -->
  

  <!-- tags -->
  

  <div class="post-tail-bottom
    d-flex justify-content-between align-items-center mt-3 pt-5 pb-2">
    <div class="license-wrapper">

      

        

        This post is licensed under 
        <a href="https://creativecommons.org/licenses/by/4.0/">
          CC BY 4.0
        </a>
         by the author.

      
    </div>

    <!--
 Post sharing snippet
-->

<div class="share-wrapper">
  <span class="share-label text-muted mr-1">Share</span>
  <span class="share-icons">
    
    

    
      
        <a href="https://twitter.com/intent/tweet?text=Refresh Memory While Having a Deeper Look at Java equals() and hashCode() Methods - Chinthaka Dharmasiri&amp;url=http://localhost:4000/posts/Java-equals-and-hashCode-methods/" data-toggle="tooltip" data-placement="top"
          title="Twitter" target="_blank" rel="noopener" aria-label="Twitter">
          <i class="fa-fw fab fa-twitter"></i>
        </a>
    
      
        <a href="https://www.facebook.com/sharer/sharer.php?title=Refresh Memory While Having a Deeper Look at Java equals() and hashCode() Methods - Chinthaka Dharmasiri&amp;u=http://localhost:4000/posts/Java-equals-and-hashCode-methods/" data-toggle="tooltip" data-placement="top"
          title="Facebook" target="_blank" rel="noopener" aria-label="Facebook">
          <i class="fa-fw fab fa-facebook-square"></i>
        </a>
    
      
        <a href="https://t.me/share/url?url=http://localhost:4000/posts/Java-equals-and-hashCode-methods/&amp;text=Refresh Memory While Having a Deeper Look at Java equals() and hashCode() Methods - Chinthaka Dharmasiri" data-toggle="tooltip" data-placement="top"
          title="Telegram" target="_blank" rel="noopener" aria-label="Telegram">
          <i class="fa-fw fab fa-telegram"></i>
        </a>
    

    <i id="copy-link" class="fa-fw fas fa-link small"
        data-toggle="tooltip" data-placement="top"
        title="Copy link"
        data-title-succeed="Link copied successfully!">
    </i>

  </span>
</div>


  </div><!-- .post-tail-bottom -->

</div><!-- div.post-tail-wrapper -->


      
    
    

    </div>
  </div> <!-- #core-wrapper -->

  <!-- pannel -->
  <div id="panel-wrapper" class="col-xl-3 pl-2 text-muted">

    <div class="access">
      















  <div id="access-lastmod" class="post">
    <div class="panel-heading">Recently Updated</div>
    <ul class="post-content pl-0 pb-1 ml-1 mt-2">
      
        
        
        
      <li><a href="/posts/Contract-Testing-For-EDA/">Contract Testing for Event Driven Architectures - Can We, Do We and How Do We?</a></li>
      
        
        
        
      <li><a href="/posts/Learning-Sagas-Step-By-Step/">Learning Sagas Step by Step</a></li>
      
        
        
        
      <li><a href="/posts/JVisualVM-to-monitor-Spring-Boot-Apps-in-Kubernetes/">How to use JVisualVM and Java Mission Control to monitor Spring Boot Apps in Kubernetes?</a></li>
      
        
        
        
      <li><a href="/posts/how-to-create-git-based-helm-repo/">How to Create a Helm Repo in Git?</a></li>
      
    </ul>
  </div> <!-- #access-lastmod -->



      


















    </div>

    
      
      



<!-- BS-toc.js will be loaded at medium priority -->
<script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script>

<div id="toc-wrapper" class="pl-0 pr-4 mb-5">
  <div class="panel-heading pl-3 pt-2 mb-2">Contents</div>
  <nav id="toc" data-toggle="toc"></nav>
</div>


    
  </div>

</div>

<!-- tail -->

<div class="row">
  <div class="col-12 col-lg-11 col-xl-8">
    <div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4">
      
        
        <!--
 Recommend the other 3 posts according to the tags and categories of the current post,
 if the number is not enough, use the other latest posts to supplement.
-->

<!-- The total size of related posts  -->


<!-- An random integer that bigger than 0  -->


<!-- Equals to TAG_SCORE / {max_categories_hierarchy}  -->








  

  

  

  

  

  


  

  

  

  

  

  


  

  
    
  

  

  

  

  

  


  

  

  

  

  

  








<!-- Fill with the other newlest posts  -->




  
    
    
      
      
        
        
        
      
    
  
    
    
      
      
        
        
        
      
    
  
    
    
  
    
    
      
      
        
        
        
          





  <div id="related-posts" class="mt-5 mb-2 mb-sm-4">
    <h3 class="pt-2 mt-1 mb-4 ml-1"
      data-toc-skip>Further Reading</h3>
    <div class="card-deck mb-4">
    
      
      
      <div class="card">
        <a href="/posts/Contract-Testing-For-EDA/">
          <div class="card-body">
            <!--
  Date format snippet
  See: ${JS_ROOT}/utils/timeago.js
-->

<em class="timeago small"
    data-ts="1645660800"
    
    >
  2022-02-24
</em>

            <h3 class="pt-0 mt-1 mb-3" data-toc-skip>Contract Testing for Event Driven Architectures - Can We, Do We and How Do We?</h3>
            <div class="text-muted small">
              <p>
                





                Introduction

In recent past, I had the chance to involve deeply in setting up a developer testing strategy for microservices that follow Event Driven Architecture (EDA) patterns. As a part of this...
              </p>
            </div>
          </div>
        </a>
      </div>
    
      
      
      <div class="card">
        <a href="/posts/Learning-Sagas-Step-By-Step/">
          <div class="card-body">
            <!--
  Date format snippet
  See: ${JS_ROOT}/utils/timeago.js
-->

<em class="timeago small"
    data-ts="1637971200"
    
    >
  2021-11-27
</em>

            <h3 class="pt-0 mt-1 mb-3" data-toc-skip>Learning Sagas Step by Step</h3>
            <div class="text-muted small">
              <p>
                





                Saga Pattern attempts to solve one of the biggest challenges encountered in micro-service architecture in terms of managing transactions across service boundaries. However implementing Sagas is a c...
              </p>
            </div>
          </div>
        </a>
      </div>
    
      
      
      <div class="card">
        <a href="/posts/how-to-create-git-based-helm-repo/">
          <div class="card-body">
            <!--
  Date format snippet
  See: ${JS_ROOT}/utils/timeago.js
-->

<em class="timeago small"
    data-ts="1546905600"
    
    >
  2019-01-08
</em>

            <h3 class="pt-0 mt-1 mb-3" data-toc-skip>How to Create a Helm Repo in Git?</h3>
            <div class="text-muted small">
              <p>
                





                If you know Helm, you know helm chart repositories. It is like maven repositories, instead these repositories hold onto the
different charts that can be used to install different tools and products...
              </p>
            </div>
          </div>
        </a>
      </div>
    
    </div> <!-- .card-deck -->
  </div> <!-- #related-posts -->


      
        
        <!--
  Navigation buttons at the bottom of the post.
-->

<div class="post-navigation d-flex justify-content-between">
  
  <a href="/posts/how-to-create-git-based-helm-repo/" class="btn btn-outline-primary"
    prompt="Older">
    <p>How to Create a Helm Repo in Git?</p>
  </a>
  

  
  <a href="/posts/Learning-Sagas-Step-By-Step/" class="btn btn-outline-primary"
    prompt="Newer">
    <p>Learning Sagas Step by Step</p>
  </a>
  

</div>

      
        
        <!--  The comments switcher -->


      
    </div>
  </div>
</div> <!-- .row -->



        <!--
  The Footer
-->

<footer class="d-flex w-100 justify-content-center">
  <div class="d-flex justify-content-between align-items-center text-muted">
    <div class="footer-left">
      <p class="mb-0">
        © 2022
        <a href="https://twitter.com/chinthaka316">Chinthaka Dharmasiri</a>.
        
        <span data-toggle="tooltip" data-placement="top"
          title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span>
        
      </p>
    </div>

    <div class="footer-right">
      <p class="mb-0">
        

        

        Powered by 
          <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a>
         with 
          <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a>
         theme.

      </p>
    </div>

  </div> <!-- div.d-flex -->
</footer>


      </div>

      <!--
  The Search results
-->
<div id="search-result-wrapper" class="d-flex justify-content-center unloaded">
  <div class="col-12 col-sm-11 post-content">
    <div id="search-hints">
      


















    </div>
    <div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div>
  </div>
</div>


    </div> <!-- #main-wrapper -->

    

    <div id="mask"></div>

    <a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button">
      <i class="fas fa-angle-up"></i>
    </a>

    <!--
  Jekyll Simple Search loader
  See: <https://github.com/christian-fei/Simple-Jekyll-Search>
-->





<script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script>

<script>
SimpleJekyllSearch({
  searchInput: document.getElementById('search-input'),
  resultsContainer: document.getElementById('search-results'),
  json: '/assets/js/data/search.json',
  searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0">  <a href="{url}">{title}</a>  <div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1">    {categories}    {tags}  </div>  <p>{snippet}</p></div>',
  noResultsText: '<p class="mt-5">Oops! No result founds.</p>',
  templateMiddleware: function(prop, value, template) {
    if (prop === 'categories') {
      if (value === '') {
        return `${value}`;
      } else {
        return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`;
      }
    }

    if (prop === 'tags') {
      if (value === '') {
        return `${value}`;
      } else {
        return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`;
      }
    }
  }
});
</script>


    <!--
  JS selector for site.
-->

<!-- layout specified -->


  



  <!-- image lazy-loading & popup & clipboard -->
  

  







  
    

    

  



  
    

    

  



  
    

    

  




  <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script>







  

  

  







  
    

    

  



  
    

    

  



  
    

    

  



  
    

    

  




  <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/en.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script>








<script defer src="/assets/js/dist/post.min.js"></script>



<!-- commons -->

<script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script>




  </body>

</html>

